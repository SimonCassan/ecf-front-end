let btnBurger=document.querySelector("#burger-icon"),lineTop=document.querySelector(".menu-top"),lineMiddle=document.querySelector(".menu-middle"),lineBot=document.querySelector(".menu-bottom"),burgerMenu=document.querySelector(".burger-list"),links=burgerMenu.querySelectorAll("a");function closeMenu(){lineTop.classList.toggle("rotate45",!1),lineMiddle.classList.toggle("opacity0",!1),lineBot.classList.toggle("-rotate45",!1),burgerMenu.classList.toggle("burger-active",!1)}btnBurger.addEventListener("click",e=>{e.stopPropagation(),lineTop.classList.toggle("rotate45"),lineMiddle.classList.toggle("opacity0"),lineBot.classList.toggle("-rotate45"),burgerMenu.classList.toggle("burger-active")}),window.addEventListener("click",e=>{burgerMenu.contains(e.target)||closeMenu()}),links.forEach(e=>{e.addEventListener("click",()=>{closeMenu()})});let lastnameField=document.querySelector("#lastname"),firstnameField=document.querySelector("#firstname"),emailField=document.querySelector("#email"),subjectField=document.querySelector("#object"),msgField=document.querySelector("#msg"),checkBoxField=document.querySelector("#agreed"),btnForm=document.querySelector(".btn-submit"),form=document.querySelector("form"),cardSuccess=document.querySelector(".card");function checkValue(e,t=1,r=250,l=!1){var n=e.value.trim();return""===n||n.length<t||r<n?(e.parentElement.classList.add("error-active"),!1):!l||!(!/^[A-Za-zÀ-ÖØ-öø-ÿ]+$/.test(n)&&(e.parentElement.classList.add("error-active"),e.nextElementSibling.textContent="Caractères non autorisés"))}function checkValueCheckbox(e){return!!e.checked||(e.parentElement.classList.add("error-active"),!1)}function checkValueEmail(e){return!(!checkValue(e)||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.trim())&&(e.parentElement.classList.add("error-active"),e.nextElementSibling.textContent="Saisir un email valide : nom@exemple.fr."))}form.addEventListener("submit",e=>{e.preventDefault();var e=checkValue(firstnameField,2,50,!0),t=checkValue(lastnameField,2,50,!0),r=checkValueEmail(emailField),l=checkValue(subjectField,3),n=checkValue(msgField,3),c=checkValueCheckbox(checkBoxField);e&&t&&r&&l&&n&&c&&(cardSuccess.classList.add("card-active"),setTimeout(()=>{cardSuccess.classList.remove("card-active")},3500),form.reset())}),firstnameField.addEventListener("input",()=>{firstnameField.parentElement.classList.remove("error-active"),firstnameField.parentElement.querySelector(".error-text").textContent="Champ obligatoire, entre 2 et 50 caractères."}),lastnameField.addEventListener("input",()=>{lastnameField.parentElement.classList.remove("error-active"),lastnameField.parentElement.querySelector(".error-text").textContent="Champ obligatoire, entre 2 et 50 caractères."}),subjectField.addEventListener("input",()=>{subjectField.parentElement.classList.remove("error-active")}),emailField.addEventListener("input",()=>{emailField.parentElement.classList.remove("error-active"),emailField.parentElement.querySelector(".error-text").textContent="Champ obligatoire"}),msgField.addEventListener("input",()=>{msgField.parentElement.classList.remove("error-active")}),checkBoxField.addEventListener("change",()=>{checkBoxField.parentElement.classList.remove("error-active")});let footer=document.querySelector("footer"),menuOffset=83.2;window.addEventListener("scroll",()=>{footer.offsetTop-window.scrollY<=menuOffset?(burgerMenu.style.backgroundColor="#202e5a",document.documentElement.style.setProperty("--underline-color","#c82d43")):(burgerMenu.style.backgroundColor="#c82d43",document.documentElement.style.setProperty("--underline-color","#202e5a"))});